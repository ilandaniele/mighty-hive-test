  
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mighty Hive Test</title>
</head>
<body>
    <div class="main-text" style="font-size:20px; text-align:center; margin: 20px 0px 40px 0px;">Mighty Hive Test</div>
    
    <div class="websocket" style="margin-bottom:30px; display:flex; flex-direction:column; align-items: center;">
      <label id="websocket-state"></label>
      <button onclick="connect()">Connect</button>
    </div>
    <div class="column" style="margin-bottom:30px; display:flex; flex-direction:column; align-items: center;">
      <label>Insert a key:</label>
      <input type="text" id="key1" name="key1" required style="margin-bottom:10px;">
      <label>Insert a value:</label>
      <input type="text" id="value" name="value" required style="margin-bottom:10px;">
      <button onclick="addKeyValue()" style="margin-bottom:10px;">Add</button>
      <label id="result1"></label>
    </div>
    <div class="column" style="margin-bottom:30px; display:flex; flex-direction:column; align-items: center;">
      <label>Insert a key to obtain it's value:</label>
      <input type="text" id="key2" name="key2" required style="margin-bottom:10px;">
      <button onclick="getValue()" style="margin-bottom:10px;">Get</button>
      <label id="result2"></label>
    </div>
</body>
<script>
    // Create WebSocket connection.
    var socket = new WebSocket('ws://localhost:8080');
    var connected = false;

    const connect = () =>{
      if(connected){
        document.getElementById("websocket-state").innerText = "Socket already connected";
      }else{
        try{
          socket = new WebSocket('ws://localhost:8080');
        }catch(e){
          console.log(e);
        }
        
        document.getElementById("websocket-state").innerText = "Socket has connected";
        connected = true;
      } 
    }


    

    const addKeyValue = () => {
      var k = document.getElementById("key1").value;
      var v = document.getElementById("value").value;
      const pair = {key: k, value: v};  
      socket.send(JSON.stringify({key:k, value:v}));
      document.getElementById("result1").innerText = "Key: '"+k+"' and value: '"+v+"' successfully added";
    }

    const getValue = (key) => {
      var k = document.getElementById("key2").value;
      try {
        socket.send(JSON.stringify({key:k}));
      }catch(e){
        console.log(e);
      }
    }

    

</script>
</html>